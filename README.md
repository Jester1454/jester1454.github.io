# Краткое описание параметров игры
## Юнит

### Словесное описание

Юнит - боевая единица каждого игрока. Если находится вне базы - имеет атаку, передвижение, текущее состояние здоровье, если находится в базе - увеличивает счетчик наполнения базы на один, и увелчивает текущее здоровье базы на состояние здоровье юнита.
Юнит имеет два типа передвижения:
1. Обыченое - из базы в базу, по пути может перестреливаться с вражескими юнитами, но не изменяет таргет движения.
2. Атакующее - если таргет аказался вражеской базы, то кружим вокруг базы нанося урон, в зависимости от приоритета атаки.
Соответственно юнит имеет скорость передвижения, которая представлена в конфигурационном поле ниже параметром maxSpeed;

Атака юнита соотвествует следующей игровой логики. Раз в DamageRate (для примера раз в секунду), атакуем объект (атакуем - уменьшаем здоровье атакуемого объекта на параметр Damage), который находится в радиусе атаки (AttackRadius) в соответсвии приоритету атаки. Если в результате перемещения враг вышел из радиуса атаки/ умер, тогда атакуем друго объект, находящийся в радиусе (если такой существует). Если в радиус атаки внезапно залетел объект с более высоким приоритетом атаки, тогда юнит начинает атаковать его. Приоритет атаки определен следующим образом:
Вражеский юнит > вражеского MotherShip > вражеской базы.

Здоровье юнита - если здоровье юнита в результате атаки уменьшается и оказывается ниже нуля, юнит погибает, если он при этом был в базе - то в базе уменьшается счетчик текущего числа юнитов.

### Конфигурационный файл
Конфигурационный файл можно изменять прям в этом репозитории, и спустя непродолжительное время (порядка пары минут) изменения будут автоматически применены в игре, после перезапуска игровой сцены. 

```javascript
    "Unit":
    {
        "maxHP": 15.0, //- максимальное ХП
        "Damage": 5.0, //- дамаг наносимый одним выстрелом
        "DamageRate": 1.0, //- время перезарядки (в секундах)
        "AttackRadius": 3.0, //- радиус вокруг корабля, в котором корабль умеет атаковать
        "maxSpeed": 2.5 //- максимально развиваемая скорость
    }
```
## База

### Словесное описание
База - стратегическая единица каждого игрока. База является аккумулятором боевых единиц игрока (юнитов), она отвечает за их спавн, за их производство, и за назначение юнитам (которые находятся в текущей базе) цели для перемещения. 
База обладает следующим набором поведенческих свойств:
0. Здоровье - у базы есть свое здоровье (MaxHP), которое не зависит от того, сколько в базе находится юнитов. Когда юнит появляется в базе (как бы это не произошло, производством или юнит зашел в базу из другой базы), то текущее здоровье увеличивается на параметр здоровья юнита. 

1. Аккумулирует входящих дружественных юнитов.В базу может зайти сколько угодно юнитов, но если их число перевалило за отметку MaxUnit, то производится юниты в данной базе больше не будут. Когда юнит заходит на базу - текущее число юнитов прибавляется, и текущее здоровье базы увеличивается на здоровье вошедшего юнита. При старте игры у базы есть определенное число юнитов - StartCountUnit.
 
2. Производит юнитов. Каждая база (кроме нейтральной) может производить юнитов раз в определенный отрезок времени - ProduceUnitRate. Если юнитов в результате перемещения или производства в базе оказалось больше, чем MaxUnit, то производство юнитов приостанавливается и возобновляется лишь тогда, когда текущее количество юнитов в базе становится меньше, чем MaxUnit. Каждый раз, когда юнит был произведет, то текущее количество юнитов в базе повышается на единицу, так же и текущее здоровье базы прибавляется на здоровье юнита.

3. Спавнит юнитов - при помощи жеста, из одной базы в другую, юниты начинаются спавниться и двигаться в направлении выбранного игроком таргета. Количество заспавленных юнитов будет равно текущему (в момент начала спавна) количеству юнитов в базе (currentCountUnit). Спавн прекращается, когда в базе юнитов остается = 0 юнитов, либо тогда, когда предпалагаемое число уже заспавнилось. При спавне юнитов - текущее количество здоровья базы уменьшается на здоровье заспавленных юнитов. Соответственно уменьшается и текущее количество юнитов. (??? - сейчас и далее таким значком будут установлены либо недоработанные, либо несозданные механики) Сейчас скорость спавна постоянна, и ни как не меняется в зависимости от параметра, не известно как будет доработана данная механика.

4. (???) Атакует юнитов. Атака происходит по принципу атаки юнитов - а именно, в когда вражеский объект попадает в радиус атаки (AttackRadius), то раз в определенное количество времени DamageRate наносим урон противнику (нанести урон - вычесть из параметра здоровья противника параметр Damage). Атакуем объект так же по принципу приоритета - вражеский юнит > вражеского MotherShip > вражеской базы.

5. (??? ) Повышает свой уровень. Если игрок два раза кликает на базу - уровень базы повышается, а точнее повышаются все связанные параметры. Возможно повышается максимальное число юнитов в базе (MaxCountUnit), максимальное число здоровья самой базы, возможно что-то еще.

### Конфигурационный файл
```javascript
    "Base": 
    {
        "maxHP": 50.0, //- максимальное ХП
        "SpawnRate": 3.0, //- время, через которое юнит будет заспавлен у базы (только осле того, как пользователь отправил корабли в другую базу
        "ProduceUnitRate": 1.0, //- время, через которое база произведет юнита
        "MaxUnit": 10 //- максимальное число юнитов, которое может быть в базе (заходить может сколько угодно, но производиться не больше)
        "Damage": 3.0, //- дамаг наносимый одним выстрелом
        "DamageRate": 1.0, //- время перезарядки (в секундах)
        "AttackRadius": 4.0 //- радиус вокруг базы, в котором база умеет атаковать
        "StartCountUnit": 5 - //- количество юнитов в базе на старте
    }
```

## MotherShip

### Словесное описание
MotherShip - боевая единица игрока, существует на поле в единственном экземпляре. Выполняет почти все те же функци, что и юнит - содержит похожие поведенчиские правила, так же атакует и так же расходует здоровье, отличается от юнита лишь способом перемещения.
Перемещение MotherShip выполняется по следующему алгоритму: есть два типа перемещения - у базы (будь то дружественная или вражеская) и перелет между базами. У базы MotherShip кружит вокруг по орбите = AttackRadius, если база вражеская - соответсвенно атакует орбиту. Перемещение от базы к базу выполняется по указу игрока: перемещаемся когда игрок указал базу для перемещения, когда подлетаем к цели, садимся на орбиту, во время передвижения так же может атаковать.

### Конфигурационный файл
```javascript
   "MotherShip": {
        "maxHP": 100.0, //- максимальное ХП
        "Damage": 1.0,//- дамаг наносимый одним выстрелом
        "DamageRate": 1.0,//- время перезарядки (в секундах)
        "AttackRadius": 5.0,//- радиус вокруг базы, в котором база умеет атаковать
        "maxSpeed": 2.0 //- максимально развиваемая скорость
    }
```
# Колода, коллекция и карточная механика (???)

### Сущности карточной механики

Коллеция - все карты в игре, из которых игрок может составить колоду. (???) Возможно из доступных ему карт, купленных или заработанных в игре.
Колода - набор карт, который игрок набирает в игру перед началом. Размер колоды - DeckSize, пока шесть.
Стартовая рука - при старте игры, игроку выдается стартовая рука из HandSize карт (пока 3).
Карта - стратегическая единица игрока, одна карто - одно применяемое действие  
Глобальный параметр энергии - энергия, которая тратиться на розыгрыш карт (под этим параметром также понимается максимальное количество энергии игрока maxEnergy). Разыгралась карта из глобальной энергии вычитается ее стоимость. Одна единица энергия восстанавливается через определенный период времени UpdateEnergyRate. 

#### Карта

Карта содержит следующие параметры: 
1. Стоимость розыгрыша карты - сколько энергии потратим для применения эффекта карты.
2. Тип карты - существует три типа карты:
    2.1. NoneTargetCard - карта, которая разыгрывается и применяет эффект вне зависимости от территории. Например - взрыв       всех юнитов (для этого не нужно указывать место применения, место глобально)
    2.2 TargetCard - карта, для которой нужно указать таргет применения. Например - спавн какого нибудь объекта в опреденном месте.
    2.3 TargetZoneCard - карта, которая применяется в конкретном радиусе. Например - нанести атаку по области карты радиусом N.
3. Для TargetCard и TargetZoneCard существует параметр области применения. Их 2 типа:
    3.1 Everywhere - можно применить на любой точке поле боя.
    3.2 OnlyBase - можно применять для баз (в зависимости от эффекта, дружественной или враждующей). Например - похилить базу.
    3.3 WitouBase - можно применять где угодно, только не в области базы. Например спавн черной дыр нельзя применять в базах.
 4. Эффект карты - соответсвенно поведение карты, которое выполняется при розыгрыше.
### Механика розыгрыша карты
Главный цикл механики розыгрыша карт.
1.Игрок получил стартовую руку. Глобальный параметр энергии равен своему максимуму (сейчас он равен 10 единицам).
2.Применил карту. Карту можно применить строго по правилам - в нужной зоне, и глобальный параметр энергии может себе позволить использовать карту. Если карта использовалась - тратим энергию, если нет - возвращаем в руку. Если энергия потратилась, она начинает восстанавливаться - единица энергии раз в UpdateEnergyRate
3. Карта сбросилась в конец колоды, из колоды тут же в руку добавляется верхняя карта из колоды.
4. Повторяем цикл с пункта 2, до конца игры.

### Список карт, имеющихся на данный момент

#### Armageddon (???)
1. Тип карты - NonTarget. 
2. Зона применения - везде.
3. Стоимость карты -  5 условных единиц энергии.
4. Эффект - Уничтожает всех юнитов на поле (и вражески и дружественных). Карта подходит только для отладки, имбаланс.

#### Heal Base (???)
1. Тип карты - TargetCard. 
2. Зона применения - только дружественные базы.
3. Стоимость карты -  3 условных единиц энергии.
4. Эффект - приравнивает текущее количество к максимальному. Карта сейчас не работает, потому что не установлен порог максимального возможного здоровья карты, из-за того, что каждый входящий юнит прибавляет здоровье к базе.

#### Defanse Base 
1. Тип карты - TargetCard. 
2. Зона применения - только дружественные базы.
3. Стоимость карты -  4 условных единиц энергии.
4. Эффект - делает базу неуязвимой на N секунд (неуязвимость - невозможность нанести урон). Сейчас N= 10.

#### Maelstorm 
1. Тип карты - TargetCard. 
2. Зона применения - все, кроме баз.
3. Стоимость карты -  5 условных единиц энергии.
4. Эффект - призывает на поле черную дыру радиусом R, которая существует N секунд. Засасывает всех юнитов (и дружественных и вражеских) в водоворот - в центре водоворота юниты уничтожаются.

#### Shelling 
1. Тип карты - TargetZoneCard. 
2. Зона применения - зона радиусом 5.
3. Стоимость карты -  5 условных единиц энергии.
4. Эффект - наносит урон N = 1 по всем вражеским объектам в зоне применения.

#### Speed Debuff
1. Тип карты - TargetZoneCard. 
2. Зона применения - зона радиусом 5.
3. Стоимость карты -  3 условных единиц энергии.
4. Эффект - уменьшает скорость вражеских юнитов на N=1.25 на время S =15.

### Реализованные механики, которые можно превратить в карты
1. Бафф скорости на N едениц в радиусе R на время S.
2. Бафф атаки на N единиц в радиусе R на время S.
3. Дебафф атаки на N единиц в радиусе R на время S.
